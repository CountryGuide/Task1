<!DOCTYPE html>
<html lang="">
<head>
	<meta charset="utf-8">
	<title>Текстовое поле ввода</title>
	<link rel="stylesheet" href="style.css">
</head>

<body>
<div class="container">
		<header class="page-header">Library</header>
	<aside>
			<nav class="main-menu">
				<div><a class="home" href="#home"><img src="home.png"></a></div>
				<div><a class="note" href="#blog"><img src="note.png"></a></div>
			</nav>
	</aside>
	
		
<main>
	<form id="MyForm">
		<fieldset class="information">
			<legend>Personal Information</legend>
			<label for="name">Name</label>
			<input type="text" id="name" name="name" required>
			<label for="age">Age</label>
			<input type="number" name="age" id="age" min="18" max="90" required>
			<div class="buttons">
				<input type="submit" value="Add" id="delete1">
			</div>
		</fieldset>
	</form>
	<div class="users" id="users">No users here... yet</div>
</main>
</div>


<script>
	function onFormSubmit(e) {
		e.preventDefault();
		const users = getUsers();
		const name  = document.getElementById("name").value;
		const age   = document.getElementById("age").value;
		users.push({ name: name, age: age });
		localStorage.setItem("users", JSON.stringify(users));
	}

	function getUsers() {
		return JSON.parse(localStorage.getItem("users") || "[]");
	}

	function outputUsers() {
		const users         = getUsers();
		if (users.length) {
		return
		}
		const container     = document.getElementById("users");
		const usersMarkup   = users.map(function (users) {
				return `<li>${users.name}</li>`;
			})
			.join('');
		container.innerHTML = `<ul>${usersMarkup}</ul>`;
		
	}

	function clear() {
		document.getElementById("MyForm").reset();
	}

	function pageLoaded() {
		const form = document.querySelectorAll('form')[0];
		outputUsers();
		form.addEventListener('submit', onFormSubmit);
		form.addEventListener('submit', outputUsers);
		form.addEventListener('submit', clear);
		
	}

	document.addEventListener('DOMContentLoaded', pageLoaded);
	
	</script>
</body>

</html>
